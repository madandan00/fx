<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>我的足迹</title>
		<link rel="stylesheet" href="css/public.css" />
		<script type="text/javascript" src="js/public.js"></script>
		<link rel="stylesheet" href="css/border1.css" />
		<link rel="stylesheet" href="css/m-my-collect.css" />
		<link rel="stylesheet" href="//at.alicdn.com/t/font_404971_58eblf73vq11c3di.css" />
		<script type="text/javascript">
			document.addEventListener('plusready', function() {
				//console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。"

			});
		</script>
	</head>

	<body>
		<div class="mark"></div>
		<div class="content">
			<div class="tit">
				<span>我的足迹</span><strong class="change">编辑</strong>
			</div>
			<!--<div class="kong" >
				<p style="margin-top: 2.3rem;"><i class="iconfont icon-zuji"></i></p>
				<p style="margin-top: 1.3rem;"> <span>还没有逛过任何商品呢，不如先去……？</span></p>
				<p style="margin-top: 0.6rem;"><a href=""><strong>去逛逛</strong></a></p>
			</div>-->
			<div class="order-info">
				<div class="mbox">
					<div class="ck">
						<b class="iconfont icon-yuan check"></b>
					</div>
					<div class="good-info">
						<a href="">
							<div class="good clearfix">
								<div class="left">
									<img src="img/goods_03.jpg" />
								</div>
								<div class="right">
									<p><span class="goods-name">原耕农家自种茄子</span></p>
									<p class="goods-feature">新鲜绿色 当天采摘 无农药化肥 400g</p>
									<p class="goods-price"><span style="font-size: 0.22rem;">￥</span><span>20.50</span></p>
								</div>

							</div>
						</a>
						<p class="cart"><i class="iconfont icon-gouwuche1"></i></p>
					</div>
					
				</div>

			</div>
			<div class="order-info">
				<div class="mbox">
					<div class="ck">
						<b class="iconfont icon-yuan check"></b>
					</div>
					<div class="good-info">
						<a href="">
							<div class="good clearfix">
								<div class="left">
									<img src="img/goods_03.jpg" />
								</div>
								<div class="right">
									<p><span class="goods-name">原耕农家自种茄子</span></p>
									<p class="goods-feature">新鲜绿色 当天采摘 无农药化肥 400g</p>
									<p class="goods-price"><span style="font-size: 0.22rem;">￥</span><span>20.50</span></p>
								</div>

							</div>
						</a>
						<p class="cart"><i class="iconfont icon-gouwuche1"></i></p>
					</div>
					
				</div>

			</div>
			<div class="order-info">
				<div class="mbox">
					<div class="ck">
						<b class="iconfont icon-yuan check"></b>
					</div>
					<div class="good-info">
						<a href="">
							<div class="good clearfix">
								<div class="left">
									<img src="img/goods_03.jpg" />
								</div>
								<div class="right">
									<p><span class="goods-name">原耕农家自种茄子</span></p>
									<p class="goods-feature">新鲜绿色 当天采摘 无农药化肥 400g</p>
									<p class="goods-price"><span style="font-size: 0.22rem;">￥</span><span>20.50</span></p>
								</div>

							</div>
						</a>
						<p class="cart"><i class="iconfont icon-gouwuche1"></i></p>
					</div>
					
				</div>

			</div>
			<div class="order-info">
				<div class="mbox">
					<div class="ck">
						<b class="iconfont icon-yuan check"></b>
					</div>
					<div class="good-info">
						<a href="">
							<div class="good clearfix">
								<div class="left">
									<img src="img/goods_03.jpg" />
								</div>
								<div class="right">
									<p><span class="goods-name">原耕农家自种茄子</span></p>
									<p class="goods-feature">新鲜绿色 当天采摘 无农药化肥 400g</p>
									<p class="goods-price"><span style="font-size: 0.22rem;">￥</span><span>20.50</span></p>
								</div>

							</div>
						</a>
						<p class="cart"><i class="iconfont icon-gouwuche1"></i></p>
					</div>
					
				</div>

			</div>
			<div class="order-info">
				<div class="mbox">
					<div class="ck">
						<b class="iconfont icon-yuan check"></b>
					</div>
					<div class="good-info">
						<a href="">
							<div class="good clearfix">
								<div class="left">
									<img src="img/goods_03.jpg" />
								</div>
								<div class="right">
									<p><span class="goods-name">原耕农家自种茄子</span></p>
									<p class="goods-feature">新鲜绿色 当天采摘 无农药化肥 400g</p>
									<p class="goods-price"><span style="font-size: 0.22rem;">￥</span><span>20.50</span></p>
								</div>

							</div>
						</a>
						<p class="cart"><i class="iconfont icon-gouwuche1"></i></p>
					</div>
					
				</div>

			</div>
			<div class="order-info">

				<div class="mbox">
					<div class="ck">
						<b class="iconfont icon-yuan check"></b>
					</div>
					<div class="good-info">
						<a href="">
							<div class="good clearfix">

								<div class="left">
									<div class="smark">已失效</div>
									<img src="img/goods_03.jpg" />
								</div>
								<div class="right">
									<p><span class="goods-name">原耕农家自种茄子</span></p>
									<p class="goods-feature">新鲜绿色 当天采摘 无农药化肥 400g</p>
									<p class="goods-price"><span style="font-size: 0.22rem;">￥</span><span>20.50</span></p>

								</div>

							</div>
						</a>

					</div>
				</div>

			</div>
		</div>
		<div class="op">
			<b class="iconfont icon-yuan" id="all"></b><span class="all">全选</span>
			<span class="do delete" style="background: #ff712b;margin-left: 0.3rem;">删除</span>
			<span class="do cancel" style="background: #c9c9c9;">取消</span>
		</div>
		<div class="success">
			<span>删除成功</span>
		</div>
		<div id="select" goodsId="3" style="display: block;" class="select">
						<div class="se">
							<div class="goods">
								<i class="iconfont icon-guanbi close"></i>
								<dl>
									<dt><img src="img/goods_03.jpg"/></dt>
									<dd class="goodsname">火果火龙果火龙果火龙果火龙果火龙果</dd>
									<dd class="goodsprice">￥34.00</dd>
								</dl>
							</div>
							<div class="se_nor">
								<p>规格：</p>
								<ul>
									<li class="active">规格1</li>
									<li>规格2</li>
									<li>规格3</li>
									<li>规格4</li>
									<li>规格2</li>
									<li>规格3</li>
									<li>规格4</li>
									<li>规格2</li>
									<li>规格3</li>
									<li>规格4</li>

								</ul>
							</div>
							<div class="se_sum">
								<p class="sum_tit">数量</p>
								<div class="aniu">
									<span class="cut">-</span>
									<input type="text" name="" id="num" class="num" value="1" />
									<span class="add">+</span>
								</div>

							</div>
							<div class="se_foot">
								<ul>
									<!--<li class="buy">立即购买</li>-->
									<li class="addcart">确认</li>
									<!--<li class="g_ds">待售</li>
					<li class="cbooks">可预订</li>-->
								</ul>
							</div>
						</div>

					</div>

	</body>
	<!--<script type="text/javascript" src="js/zepto_1.1.3.js"></script>-->
	<script type="text/javascript" src="js/jquery-2.1.0.js"></script>
	<script>
		//点击编辑
		$(".change").on("click", function() {
				var val = $(this).html();
				if(val == "编辑") {
					$(this).html("完成");
					$(".ck").show();
					$(".op").show();
					$(".content").css("padding-bottom","1.3rem");
				} else {
					$(this).html("编辑");
					$(".ck").hide();
					$(".op").hide();
					$(".content").css("padding-bottom",0);
				}
			})
			//点击全选
		$("#all").on("click", function() {
				if($(this).hasClass("icon-yuan")) {
					$(this).removeClass("icon-yuan").addClass("icon-chuangyikongjianICON_fuzhi-").css("color", "#ff712b");
					$(".check").removeClass("icon-yuan").addClass("icon-chuangyikongjianICON_fuzhi-").css("color", "#ff712b");
				} else {
					$(this).removeClass("icon-chuangyikongjianICON_fuzhi-").addClass("icon-yuan").css("color", "#969696");
					$(".check").removeClass("icon-chuangyikongjianICON_fuzhi-").addClass("icon-yuan").css("color", "#969696");
				}
			})
			//点击单选
		$(".check").on("click", function() {
				if($(this).hasClass("icon-yuan")) {
					$(this).removeClass("icon-yuan").addClass("icon-chuangyikongjianICON_fuzhi-").css("color", "#ff712b");
				} else {
					$(this).removeClass("icon-chuangyikongjianICON_fuzhi-").addClass("icon-yuan").css("color", "#969696");
				}
				var flag = true;
				var arr = $(".check");
				var l = arr.length;
				//alert(l)
				for(var i = 0; i < l; i++) {
					if(arr.eq(i).hasClass("icon-yuan")) {
						flag = false;
					}
				}
				if(flag) {
					$("#all").removeClass("icon-yuan").addClass("icon-chuangyikongjianICON_fuzhi-").css("color", "#ff712b");
				} else {

					$("#all").removeClass("icon-chuangyikongjianICON_fuzhi-").addClass("icon-yuan").css("color", "#969696");
				}
			})
			//取消
		$(".cancel").on("click", function() {
				$(".ck").hide()
				$(".op").hide();
				$(".change").html("编辑");
				$(".content").css("padding-bottom",0);
			})
			//删除
		$(".delete").on("click", function() {
				var arr = $(".check");
				var l = arr.length;
				var list = [];
				for(var i = 0; i < l; i++) {
					if(arr.eq(i).hasClass("icon-chuangyikongjianICON_fuzhi-")) {
						list.push(arr.eq(i).attr("show_id"));
					}
				}
				$.ajax({
					type: "get",
					url: "",
					data: {
						"show_id": list
					},
					success: function(data) {
						if(data == 1) {
							$(".success").show();
							setTimeout(function() {
								location.reload()
							}, 2000)
						} else if(data == 0) {
							$(".success").html("失败").show();
							setTimeout(function() {
								$(".success").html("失败").hide();
								$(".ck").hide()
								$(".op").hide();
							}, 2000)
							$(".content").css("padding-bottom",0);
						}
					}
				});
			})
			//规格
		$(".cart").on("click", function() {
			$(".mark").show()
			$(".select").animate({
				"bottom": "0"
			}, 300)
		})

		//弹框关闭按钮
		$(".goods .close").on("click", function() {
				$(".mark").hide()
				$(".select").animate({
					"bottom": "-13.5rem"
				}, 300)
			})
			//选取规格添加样式
		$(".select .se_nor ul li").on("click", function() {
			$(this).addClass("active").siblings().removeClass("active")
		})

		//数量增加或减少按钮功能实现
		$(".cut").on("click", function() {
			var num = $(this).parents(".aniu").find(".num").val()
			num--;
			if(num <= 1) {
				num = 1
			}
			$(this).parents(".aniu").find(".num").val(num)
		})
		$(".add").on("click", function() {
			var num = $(this).parents(".aniu").find(".num").val()
			num++;
			$(this).parents(".aniu").find(".num").val(num)
		})
	</script>

</html>